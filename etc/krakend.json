{
    "$schema": "https://www.krakend.io/schema/v2.4/krakend.json",
    "version": 3,
    "endpoints": [
        {
        "endpoint": "/api/login",
        "method": "POST",      
        "backend": [
          {
            "url_pattern": "/login",
            "host": ["http://localhost:5100"]
          }
        ],
        "extra_config": {
          "auth/signer": {
            "alg": "RS256",
            "kid": "access-token-key",
            "keys_to_sign": ["access_token", "refresh_token"],
            "jwk_local_path": "./login_service/private.json",
            "disable_jwk_security": true
          }
      }
},{
    
    "endpoint": "/api/students/{student_id}/classes",
    "method": "GET",      
    "backend": [
      {
        "url_pattern": "/students/{student_id}/classes",
        "host": ["http://localhost:5000"]
      }
    ],
    "extra_config": {
      "auth/validator": {
        "alg": "RS256",
        "roles_key": "roles",
        "roles": ["user"],
        "jwk_local_path": "./login_service/public.json",
        "disable_jwk_security": true,
        "operation_debug":true
    }
  }
}]
}
